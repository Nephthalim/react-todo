{"ast":null,"code":"import React from'react';import{useHistory}from'react-router-dom';import RegisterForm from'../components/RegisterForm/RegisterForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RegisterPage=function RegisterPage(){var history=useHistory();var url=\"http://localhost:5000\";var addUser=function addUser(user){fetch(url+\"/auth/register\",{method:'POST',body:user,headers:{'Content-Type':'application/json'}}).then(function(res){if(res.status===200){return res.json();}}).then(function(data){localStorage.setItem(\"token\",data.token);}).catch(function(res){history.replace('/register');});var token=localStorage.getItem(\"token\");if(token!==undefined&&token!==\"\"){history.replace('/');}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center my-5\",children:\"Register\"}),/*#__PURE__*/_jsx(RegisterForm,{addUser:addUser})]});};export default RegisterPage;","map":{"version":3,"sources":["/Users/nephthalimabebe/Desktop/react-todo/client/src/pages/RegisterPage.js"],"names":["React","useHistory","RegisterForm","RegisterPage","history","url","addUser","user","fetch","method","body","headers","then","res","status","json","data","localStorage","setItem","token","catch","replace","getItem","undefined"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,YAAP,KAAyB,yCAAzB,C,6IAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CAEvB,GAAMC,CAAAA,OAAO,CAAGH,UAAU,EAA1B,CACA,GAAMI,CAAAA,GAAG,CAAG,uBAAZ,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,IAAD,CAAU,CACtBC,KAAK,CACDH,GAAG,CAAG,gBADL,CAED,CACII,MAAM,CAAE,MADZ,CAEIC,IAAI,CAAEH,IAFV,CAGII,OAAO,CAAE,CACL,eAAgB,kBADX,CAHb,CAFC,CAAL,CAUEC,IAVF,CAUO,SAACC,GAAD,CAAS,CACZ,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAwB,CACpB,MAAOD,CAAAA,GAAG,CAACE,IAAJ,EAAP,CACH,CACJ,CAdD,EAcGH,IAdH,CAcQ,SAACI,IAAD,CAAU,CACdC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BF,IAAI,CAACG,KAAnC,EACH,CAhBD,EAgBGC,KAhBH,CAgBS,SAACP,GAAD,CAAS,CACdT,OAAO,CAACiB,OAAR,CAAgB,WAAhB,EACH,CAlBD,EAmBA,GAAMF,CAAAA,KAAK,CAAGF,YAAY,CAACK,OAAb,CAAqB,OAArB,CAAd,CACA,GAAIH,KAAK,GAAKI,SAAV,EAAuBJ,KAAK,GAAK,EAArC,CAAyC,CACrCf,OAAO,CAACiB,OAAR,CAAgB,GAAhB,EACH,CACJ,CAxBD,CA2BA,mBACI,wCACI,WAAI,SAAS,CAAC,kBAAd,sBADJ,cAEI,KAAC,YAAD,EAAc,OAAO,CAAEf,OAAvB,EAFJ,GADJ,CAMH,CAtCD,CAwCA,cAAeH,CAAAA,YAAf","sourcesContent":["import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport RegisterForm from '../components/RegisterForm/RegisterForm'\n\nconst RegisterPage = () => {\n\n    const history = useHistory();\n    const url = \"http://localhost:5000\"\n\n    const addUser = (user) => {\n        fetch(\n            url + \"/auth/register\",\n            {\n                method: 'POST',\n                body: user,\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n            }\n\n        ).then((res) => {\n            if (res.status === 200) {\n                return res.json();\n            }\n        }).then((data) => {\n            localStorage.setItem(\"token\", data.token)\n        }).catch((res) => {\n            history.replace('/register')\n        })\n        const token = localStorage.getItem(\"token\")\n        if (token !== undefined && token !== \"\") {\n            history.replace('/')\n        }\n    }\n\n\n    return (\n        <>\n            <h1 className=\"text-center my-5\">Register</h1>\n            <RegisterForm addUser={addUser} />\n        </>\n    )\n}\n\nexport default RegisterPage\n"]},"metadata":{},"sourceType":"module"}