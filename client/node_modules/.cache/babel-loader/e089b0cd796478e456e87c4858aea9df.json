{"ast":null,"code":"import React,{useRef,useState,useEffect}from'react';import{useHistory}from'react-router-dom';import LoginForm from'../components/LandingPage/LoginForm';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LandingPage=function LandingPage(_ref){var setAuthentication=_ref.setAuthentication,toaster=_ref.toaster;var url=\"https://nephthalim-react-todo.herokuapp.com\";var loginUser=function loginUser(user){fetch(url+\"/auth/login\",{method:'POST',body:user,headers:{'Content-Type':'application/json'}}).then(function(res){if(res.status===200){return res.json();}else if(res.status===401){toaster.error(\"🙁 Please make sure you are using the right credentials!\");}else if(res.status===500){toaster.error(\"🙁 Seems like there is a server error ☹️! Try again some other time\");}}).then(function(data){if(data.token){console.log(data.token);localStorage.setItem(\"token\",data.token);console.log(\"================\");console.log(\"Set token\");console.log(\"================\");toaster.success();setAuthentication(true);console.log(\"Set Authentication to true\");}}).catch(function(error){console.log(error);});};useEffect(function(){console.log(\"LandingPage.js\");},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center my-5\",children:\"Login\"}),/*#__PURE__*/_jsx(LoginForm,{loginUser:loginUser})]});};export default LandingPage;","map":{"version":3,"sources":["/Users/nephthalimabebe/Desktop/react-todo/client/src/pages/LandingPage.js"],"names":["React","useRef","useState","useEffect","useHistory","LoginForm","ToastContainer","toast","LandingPage","setAuthentication","toaster","url","loginUser","user","fetch","method","body","headers","then","res","status","json","error","data","token","console","log","localStorage","setItem","success","catch"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,CAAwBC,QAAxB,CAAkCC,SAAlC,KAAmD,OAAnD,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,SAAP,KAAsB,qCAAtB,CAEA,OAASC,cAAT,CAAyBC,KAAzB,KAAsC,gBAAtC,CACA,MAAO,uCAAP,C,6IAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAoC,IAAjCC,CAAAA,iBAAiC,MAAjCA,iBAAiC,CAAdC,OAAc,MAAdA,OAAc,CACpD,GAAMC,CAAAA,GAAG,CAAG,6CAAZ,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,IAAD,CAAU,CACxBC,KAAK,CACDH,GAAG,CAAG,aADL,CAED,CACII,MAAM,CAAE,MADZ,CAEIC,IAAI,CAAEH,IAFV,CAGII,OAAO,CAAE,CACL,eAAgB,kBADX,CAHb,CAFC,CAAL,CAUEC,IAVF,CAUO,SAACC,GAAD,CAAS,CACZ,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAwB,CAAE,MAAOD,CAAAA,GAAG,CAACE,IAAJ,EAAP,CAAoB,CAA9C,IACK,IAAIF,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAwB,CAAEV,OAAO,CAACY,KAAR,CAAc,0DAAd,EAA4E,CAAtG,IACA,IAAIH,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAwB,CAAEV,OAAO,CAACY,KAAR,CAAc,qEAAd,EAAuF,CACzH,CAdD,EAcGJ,IAdH,CAcQ,SAACK,IAAD,CAAU,CACd,GAAIA,IAAI,CAACC,KAAT,CAAgB,CACZC,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,KAAjB,EACAG,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BL,IAAI,CAACC,KAAnC,EACAC,OAAO,CAACC,GAAR,CAAY,kBAAZ,EACAD,OAAO,CAACC,GAAR,CAAY,WAAZ,EACAD,OAAO,CAACC,GAAR,CAAY,kBAAZ,EACAhB,OAAO,CAACmB,OAAR,GACApB,iBAAiB,CAAC,IAAD,CAAjB,CACAgB,OAAO,CAACC,GAAR,CAAY,4BAAZ,EACH,CAEJ,CA1BD,EA0BGI,KA1BH,CA0BS,SAACR,KAAD,CAAW,CAChBG,OAAO,CAACC,GAAR,CAAYJ,KAAZ,EACH,CA5BD,EA6BH,CA9BD,CA+BAnB,SAAS,CAAC,UAAM,CACZsB,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACH,CAFQ,CAEN,EAFM,CAAT,CAGA,mBACI,wCACI,WAAI,SAAS,CAAC,kBAAd,mBADJ,cAEI,KAAC,SAAD,EAAW,SAAS,CAAEd,SAAtB,EAFJ,GADJ,CAiBH,CAtDD,CAwDA,cAAeJ,CAAAA,WAAf","sourcesContent":["import React, { useRef, useState, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport LoginForm from '../components/LandingPage/LoginForm'\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst LandingPage = ({ setAuthentication, toaster }) => {\n    const url = \"https://nephthalim-react-todo.herokuapp.com\"\n\n    const loginUser = (user) => {\n        fetch(\n            url + \"/auth/login\",\n            {\n                method: 'POST',\n                body: user,\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            }\n\n        ).then((res) => {\n            if (res.status === 200) { return res.json(); }\n            else if (res.status === 401) { toaster.error(\"🙁 Please make sure you are using the right credentials!\"); }\n            else if (res.status === 500) { toaster.error(\"🙁 Seems like there is a server error ☹️! Try again some other time\"); }\n        }).then((data) => {\n            if (data.token) {\n                console.log(data.token)\n                localStorage.setItem(\"token\", data.token)\n                console.log(\"================\")\n                console.log(\"Set token\")\n                console.log(\"================\")\n                toaster.success();\n                setAuthentication(true);\n                console.log(\"Set Authentication to true\")\n            }\n\n        }).catch((error) => {\n            console.log(error)\n        })\n    }\n    useEffect(() => {\n        console.log(\"LandingPage.js\")\n    }, [])\n    return (\n        <>\n            <h1 className=\"text-center my-5\">Login</h1>\n            <LoginForm loginUser={loginUser} />\n            {/* <ToastContainer\n                position=\"bottom-right\"\n                autoClose={2500}\n                hideProgressBar={false}\n                newestOnTop={false}\n                closeOnClick\n                rtl={false}\n                pauseOnFocusLoss\n                draggable\n                pauseOnHover\n            /> */}\n        </>\n    )\n}\n\nexport default LandingPage\n"]},"metadata":{},"sourceType":"module"}