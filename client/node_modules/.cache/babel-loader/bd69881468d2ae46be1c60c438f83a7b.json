{"ast":null,"code":"import React from'react';import{Redirect,useHistory}from'react-router-dom';import RegisterForm from'../components/RegisterForm/RegisterForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RegisterPage=function RegisterPage(_ref){var setAuthentication=_ref.setAuthentication;var history=useHistory();// const url = \"https://nephthalim-react-todo.herokuapp.com\"\nvar addUser=function addUser(user){fetch(\"/auth/register\",{method:'POST',body:user,headers:{'Content-Type':'application/json','Accept':'application/json'}}).then(function(res){if(res.status===200){return res.json();}}).then(function(data){localStorage.setItem(\"token\",data.token);setAuthentication(true);history.push('/');console.log(\"Add User\");console.log(data.token);}).catch(function(err){console.log(\"Error\");console.log(err);history.replace('/register');});var token=localStorage.getItem(\"token\");if(token!==undefined&&token!==\"\"){/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center my-5\",children:\"Register\"}),/*#__PURE__*/_jsx(RegisterForm,{addUser:addUser})]});};export default RegisterPage;","map":{"version":3,"sources":["/Users/nephthalimabebe/Desktop/react-todo/client/src/pages/RegisterPage.js"],"names":["React","Redirect","useHistory","RegisterForm","RegisterPage","setAuthentication","history","addUser","user","fetch","method","body","headers","then","res","status","json","data","localStorage","setItem","token","push","console","log","catch","err","replace","getItem","undefined"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,UAAnB,KAAqC,kBAArC,CACA,MAAOC,CAAAA,YAAP,KAAyB,yCAAzB,C,6IAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAyB,IAAvBC,CAAAA,iBAAuB,MAAvBA,iBAAuB,CAE1C,GAAMC,CAAAA,OAAO,CAAGJ,UAAU,EAA1B,CACA;AAEA,GAAMK,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,IAAD,CAAU,CACtBC,KAAK,CACD,gBADC,CAED,CACIC,MAAM,CAAE,MADZ,CAEIC,IAAI,CAAEH,IAFV,CAGII,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,SAAU,kBAFL,CAHb,CAFC,CAAL,CAWEC,IAXF,CAWO,SAACC,GAAD,CAAS,CACZ,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAwB,CACpB,MAAOD,CAAAA,GAAG,CAACE,IAAJ,EAAP,CACH,CACJ,CAfD,EAeGH,IAfH,CAeQ,SAACI,IAAD,CAAU,CACdC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BF,IAAI,CAACG,KAAnC,EACAf,iBAAiB,CAAC,IAAD,CAAjB,CACAC,OAAO,CAACe,IAAR,CAAa,GAAb,EACAC,OAAO,CAACC,GAAR,CAAY,UAAZ,EACAD,OAAO,CAACC,GAAR,CAAYN,IAAI,CAACG,KAAjB,EAEH,CAtBD,EAsBGI,KAtBH,CAsBS,SAACC,GAAD,CAAS,CACdH,OAAO,CAACC,GAAR,CAAY,OAAZ,EACAD,OAAO,CAACC,GAAR,CAAYE,GAAZ,EACAnB,OAAO,CAACoB,OAAR,CAAgB,WAAhB,EACH,CA1BD,EA2BA,GAAMN,CAAAA,KAAK,CAAGF,YAAY,CAACS,OAAb,CAAqB,OAArB,CAAd,CACA,GAAIP,KAAK,GAAKQ,SAAV,EAAuBR,KAAK,GAAK,EAArC,CAAyC,CACrC,kBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,GACH,CAEJ,CAjCD,CAoCA,mBACI,wCACI,WAAI,SAAS,CAAC,kBAAd,sBADJ,cAEI,KAAC,YAAD,EAAc,OAAO,CAAEb,OAAvB,EAFJ,GADJ,CAMH,CA/CD,CAiDA,cAAeH,CAAAA,YAAf","sourcesContent":["import React from 'react'\nimport { Redirect, useHistory } from 'react-router-dom'\nimport RegisterForm from '../components/RegisterForm/RegisterForm'\n\nconst RegisterPage = ({setAuthentication}) => {\n\n    const history = useHistory();\n    // const url = \"https://nephthalim-react-todo.herokuapp.com\"\n\n    const addUser = (user) => {\n        fetch(\n            \"/auth/register\",\n            {\n                method: 'POST',\n                body: user,\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Accept': 'application/json'\n                },\n            }\n\n        ).then((res) => {\n            if (res.status === 200) {\n                return res.json();\n            }\n        }).then((data) => {\n            localStorage.setItem(\"token\", data.token)\n            setAuthentication(true)\n            history.push('/')\n            console.log(\"Add User\")\n            console.log(data.token)\n            \n        }).catch((err) => {\n            console.log(\"Error\")\n            console.log(err)\n            history.replace('/register')\n        })\n        const token = localStorage.getItem(\"token\")\n        if (token !== undefined && token !== \"\") {\n            <Redirect to='/' />\n        }\n\n    }\n\n\n    return (\n        <>\n            <h1 className=\"text-center my-5\">Register</h1>\n            <RegisterForm addUser={addUser} />\n        </>\n    )\n}\n\nexport default RegisterPage\n"]},"metadata":{},"sourceType":"module"}